{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/fernando.iglesias/Desktop/%C3%9Atil/UFMS/Proj%20Integrador%20II/Avaliacao-iii/src/components/head.js"],"sourcesContent":["import Head from 'next/head';\r\n\r\nexport default function PageHead({ currentPage }) {\r\n  let pageTitle = 'MapaDengue - Início';\r\n\r\n  switch (currentPage) {\r\n    case 'Mapa':\r\n      pageTitle = 'MapaDengue - Mapa';\r\n      break;\r\n    case 'Relatorios':\r\n      pageTitle = 'MapaDengue - Relatórios';\r\n      break;\r\n    case 'Sobre':\r\n      pageTitle = 'MapaDengue - Sobre';\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n\r\n  return (\r\n    <Head>\r\n      <meta charSet=\"UTF-8\" />\r\n      <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\r\n      <title>{pageTitle}</title>\r\n      <link \r\n        href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css\" \r\n        rel=\"stylesheet\" \r\n      />\r\n      <link \r\n        rel=\"stylesheet\" \r\n        href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\" \r\n      />\r\n    </Head>\r\n  );\r\n}"],"names":[],"mappings":";;;;AAAA;;;AAEe,SAAS,SAAS,EAAE,WAAW,EAAE;IAC9C,IAAI,YAAY;IAEhB,OAAQ;QACN,KAAK;YACH,YAAY;YACZ;QACF,KAAK;YACH,YAAY;YACZ;QACF,KAAK;YACH,YAAY;YACZ;QACF;YACE;IACJ;IAEA,qBACE,6LAAC,uKAAA,CAAA,UAAI;;0BACH,6LAAC;gBAAK,SAAQ;;;;;;0BACd,6LAAC;gBAAK,MAAK;gBAAW,SAAQ;;;;;;0BAC9B,6LAAC;0BAAO;;;;;;0BACR,6LAAC;gBACC,MAAK;gBACL,KAAI;;;;;;0BAEN,6LAAC;gBACC,KAAI;gBACJ,MAAK;;;;;;;;;;;;AAIb;KAhCwB","debugId":null}},
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/fernando.iglesias/Desktop/%C3%9Atil/UFMS/Proj%20Integrador%20II/Avaliacao-iii/src/components/header.js"],"sourcesContent":["export default function Header( { currentPage } ){\r\n    const createNavItem = (page, text, currentPage) => {\r\n        const isActive = currentPage === page;\r\n        return (\r\n            <li className={`nav-item ${isActive ? 'active' : ''}`}>\r\n                <a className=\"nav-link\" href={page}>\r\n                    {text}\r\n                </a>\r\n            </li>\r\n        );\r\n    };\r\n\r\n    return(\r\n        <>\r\n            <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark sticky-top\">\r\n                <div className=\"container\">\r\n                    <a className=\"navbar-brand\" href=\"#\">\r\n                        MapaDengue\r\n                    </a>\r\n                    <button className=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNav\">\r\n                        <span className=\"navbar-toggler-icon\"></span>\r\n                    </button>\r\n                    <div className=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n                        <ul className=\"navbar-nav ms-auto\">\r\n                            {createNavItem('Inicio', 'Início', currentPage)}\r\n                            {createNavItem('Mapa', 'Mapa', currentPage)}\r\n                            {createNavItem('Relatorios', 'Relatórios', currentPage)}\r\n                            {createNavItem('Sobre', 'Sobre', currentPage)}\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </nav>\r\n        </>\r\n    )\r\n}"],"names":[],"mappings":";;;;;AAAe,SAAS,OAAQ,EAAE,WAAW,EAAE;IAC3C,MAAM,gBAAgB,CAAC,MAAM,MAAM;QAC/B,MAAM,WAAW,gBAAgB;QACjC,qBACI,6LAAC;YAAG,WAAW,CAAC,SAAS,EAAE,WAAW,WAAW,IAAI;sBACjD,cAAA,6LAAC;gBAAE,WAAU;gBAAW,MAAM;0BACzB;;;;;;;;;;;IAIjB;IAEA,qBACI;kBACI,cAAA,6LAAC;YAAI,WAAU;sBACX,cAAA,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAE,WAAU;wBAAe,MAAK;kCAAI;;;;;;kCAGrC,6LAAC;wBAAO,WAAU;wBAAiB,MAAK;wBAAS,kBAAe;wBAAW,kBAAe;kCACtF,cAAA,6LAAC;4BAAK,WAAU;;;;;;;;;;;kCAEpB,6LAAC;wBAAI,WAAU;wBAA2B,IAAG;kCACzC,cAAA,6LAAC;4BAAG,WAAU;;gCACT,cAAc,UAAU,UAAU;gCAClC,cAAc,QAAQ,QAAQ;gCAC9B,cAAc,cAAc,cAAc;gCAC1C,cAAc,SAAS,SAAS;;;;;;;;;;;;;;;;;;;;;;;;AAO7D;KAlCwB","debugId":null}},
    {"offset": {"line": 191, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/fernando.iglesias/Desktop/%C3%9Atil/UFMS/Proj%20Integrador%20II/Avaliacao-iii/src/components/footer.js"],"sourcesContent":["export default function Footer(){\r\n    return (<footer className=\"footer\">\r\n        <div className=\"container\">\r\n            <div className=\"row\">\r\n                <div className=\"col-md-4 mb-4 mb-md-0\">\r\n                    <h5>MapaDengue</h5>\r\n                    <div className=\"social-icons\">\r\n                        <a href=\"#\" className=\"text-white me-3\"><i className=\"fab fa-facebook-f\"></i></a>\r\n                        <a href=\"#\" className=\"text-white me-3\"><i className=\"fab fa-instagram\"></i></a>\r\n                        <a href=\"#\" className=\"text-white\"><i className=\"fab fa-tripadvisor\"></i></a>\r\n                    </div>\r\n                </div>\r\n                <div className=\"col-md-4 mb-4 mb-md-0\">\r\n                    <h5>Horário de Contato</h5>\r\n                    <ul className=\"list-unstyled\">\r\n                        <li>Todos os dias: 7h - 11h</li>\r\n                    </ul>\r\n                </div>\r\n                <div className=\"col-md-4\">\r\n                    <h5>Contato</h5>\r\n                    <ul className=\"list-unstyled\">\r\n                        <li><i className=\"fas fa-map-marker-alt me-2\"></i> Rua Um, 123 - Centro</li>\r\n                        <li><i className=\"fas fa-phone me-2\"></i> (67) 1234-5678</li>\r\n                        <li><i className=\"fas fa-envelope me-2\"></i> contato@mapadengue.com</li>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n            <hr className=\"mt-4 mb-4\" />\r\n            <div className=\"text-center\">\r\n                <p className=\"mb-0\">&copy; 2025 MapaDengue. Todos os direitos reservados.</p>\r\n            </div>\r\n        </div>\r\n    </footer>\r\n    );\r\n}"],"names":[],"mappings":";;;;;AAAe,SAAS;IACpB,qBAAQ,6LAAC;QAAO,WAAU;kBACtB,cAAA,6LAAC;YAAI,WAAU;;8BACX,6LAAC;oBAAI,WAAU;;sCACX,6LAAC;4BAAI,WAAU;;8CACX,6LAAC;8CAAG;;;;;;8CACJ,6LAAC;oCAAI,WAAU;;sDACX,6LAAC;4CAAE,MAAK;4CAAI,WAAU;sDAAkB,cAAA,6LAAC;gDAAE,WAAU;;;;;;;;;;;sDACrD,6LAAC;4CAAE,MAAK;4CAAI,WAAU;sDAAkB,cAAA,6LAAC;gDAAE,WAAU;;;;;;;;;;;sDACrD,6LAAC;4CAAE,MAAK;4CAAI,WAAU;sDAAa,cAAA,6LAAC;gDAAE,WAAU;;;;;;;;;;;;;;;;;;;;;;;sCAGxD,6LAAC;4BAAI,WAAU;;8CACX,6LAAC;8CAAG;;;;;;8CACJ,6LAAC;oCAAG,WAAU;8CACV,cAAA,6LAAC;kDAAG;;;;;;;;;;;;;;;;;sCAGZ,6LAAC;4BAAI,WAAU;;8CACX,6LAAC;8CAAG;;;;;;8CACJ,6LAAC;oCAAG,WAAU;;sDACV,6LAAC;;8DAAG,6LAAC;oDAAE,WAAU;;;;;;gDAAiC;;;;;;;sDAClD,6LAAC;;8DAAG,6LAAC;oDAAE,WAAU;;;;;;gDAAwB;;;;;;;sDACzC,6LAAC;;8DAAG,6LAAC;oDAAE,WAAU;;;;;;gDAA2B;;;;;;;;;;;;;;;;;;;;;;;;;8BAIxD,6LAAC;oBAAG,WAAU;;;;;;8BACd,6LAAC;oBAAI,WAAU;8BACX,cAAA,6LAAC;wBAAE,WAAU;kCAAO;;;;;;;;;;;;;;;;;;;;;;AAKpC;KAlCwB","debugId":null}},
    {"offset": {"line": 430, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/fernando.iglesias/Desktop/%C3%9Atil/UFMS/Proj%20Integrador%20II/Avaliacao-iii/src/app/MapaDengue/Relatorios/page.js"],"sourcesContent":["'use client';\r\nimport { useState, useEffect } from 'react';\r\nimport dynamic from 'next/dynamic';\r\nimport { OpenStreetMapProvider } from 'leaflet-geosearch';\r\nimport PageHead from '@/components/head';\r\nimport Header from '@/components/header';\r\nimport Footer from '@/components/footer';\r\n\r\nconst DynamicMap = dynamic(() => import('@/components/mapLeaflet'), {\r\n  ssr: false,\r\n  loading: () => <p>Carregando mapa...</p>,\r\n});\r\n\r\nexport default function Relatorios() {\r\n  const currentPage = 'Relatorios'\r\n  const [bairros, setBairros] = useState([]);\r\n  const [focosFiltrados, setFocosFiltrados] = useState([]);\r\n  const [carregando, setCarregando] = useState(true);\r\n\r\n  useEffect(() => {\r\n    async function carregarBairros() {\r\n      try {\r\n        const response = await fetch('/api/focos');\r\n        if (!response.ok) throw new Error('Erro ao carregar focos');\r\n\r\n        const focos = await response.json();\r\n        const provider = new OpenStreetMapProvider();\r\n        const bairrosUnicos = [];\r\n        \r\n        for (const foco of focos) {\r\n          try {\r\n            const results = await provider.search({ query: foco.endereco });\r\n            if (results.length > 0) {\r\n              const address = results[0].raw.address;\r\n              const bairro = address.neighbourhood || address.suburb || address.city_district;\r\n              if (bairro && !bairrosUnicos.includes(bairro)) {\r\n                bairrosUnicos.push(bairro);\r\n              }\r\n            }\r\n          } catch (error) {\r\n            console.error('Erro ao geocodificar:', foco.endereco, error);\r\n          }\r\n        }\r\n        \r\n        setBairros(bairrosUnicos);\r\n        setFocosFiltrados(focos);\r\n        setCarregando(false);\r\n      } catch (error) {\r\n        console.error('Erro:', error);\r\n        setCarregando(false);\r\n      }\r\n    }\r\n\r\n    carregarBairros();\r\n  }, []);\r\n\r\n  const handleFiltrarPorBairro = async (bairro) => {\r\n    if (!bairro) {\r\n      const response = await fetch('/api/focos');\r\n      setFocosFiltrados(await response.json());\r\n      return;\r\n    }\r\n\r\n    const provider = new OpenStreetMapProvider();\r\n    const focosFiltrados = [];\r\n\r\n    const response = await fetch('/api/focos');\r\n    const todosFocos = await response.json();\r\n\r\n    for (const foco of todosFocos) {\r\n      try {\r\n        const results = await provider.search({ query: foco.endereco });\r\n        if (results.length > 0) {\r\n          const address = results[0].raw.address;\r\n          const focoBairro = address.neighbourhood || address.suburb || address.city_district;\r\n          if (focoBairro && focoBairro.toLowerCase().includes(bairro.toLowerCase())) {\r\n            focosFiltrados.push(foco);\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.error('Erro ao geocodificar:', foco.endereco, error);\r\n      }\r\n    }\r\n\r\n    setFocosFiltrados(focosFiltrados);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <PageHead currentPage={currentPage}/>\r\n      <Header currentPage={currentPage}/>\r\n      \r\n      <div className=\"container mt-4\">\r\n        <div className=\"report-picker card p-4 mb-4\">\r\n          <div className=\"mb-3\">\r\n            <label htmlFor=\"busca-bairro\" className=\"form-label\">Buscar Bairro:</label>\r\n            <input \r\n              type=\"text\" \r\n              id=\"busca-bairro\" \r\n              className=\"form-control\" \r\n              placeholder=\"Digite para filtrar...\"\r\n              onChange={(e) => handleFiltrarPorBairro(e.target.value)}\r\n            />\r\n          </div>\r\n          <div className=\"mb-3\">\r\n            <label htmlFor=\"foco-bairro\" className=\"form-label\">Selecione um Bairro:</label>\r\n            <select \r\n              id=\"foco-bairro\" \r\n              name=\"foco-bairro\" \r\n              className=\"form-control\"\r\n              onChange={(e) => handleFiltrarPorBairro(e.target.value)}\r\n            >\r\n              <option value=\"\">Todos os bairros</option>\r\n              {carregando ? (\r\n                <option value=\"\">Carregando bairros...</option>\r\n              ) : (\r\n                bairros.map(bairro => (\r\n                  <option key={bairro} value={bairro}>{bairro}</option>\r\n                ))\r\n              )}\r\n            </select>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"map-container\">\r\n          <div id=\"map\" style={{ height: '500px', width: '100%' }} />\r\n        </div>\r\n      </div>\r\n      \r\n      <Footer />\r\n    </>\r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}}]
}