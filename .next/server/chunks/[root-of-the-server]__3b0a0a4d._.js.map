{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 76, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/fernando.iglesias/Desktop/%C3%9Atil/UFMS/Proj%20Integrador%20II/Avaliacao-iii/src/app/api/upload/route.js"],"sourcesContent":["import { NextResponse } from 'next/server';\r\nimport fs from 'fs';\r\nimport path from 'path';\r\n\r\nexport async function POST(request) {\r\n  try {\r\n    const formData = await request.formData();\r\n    const file = formData.get('file');\r\n    \r\n    if (!file) {\r\n      return NextResponse.json({ error: 'Nenhum arquivo enviado' }, { status: 400 });\r\n    }\r\n\r\n    const uploadDir = path.join(process.cwd(), 'public', 'uploads');\r\n    if (!fs.existsSync(uploadDir)) {\r\n      fs.mkdirSync(uploadDir, { recursive: true });\r\n    }\r\n\r\n    const timestamp = Date.now();\r\n    const ext = path.extname(file.name);\r\n    const filename = `foco_${timestamp}${ext}`;\r\n    const filePath = path.join(uploadDir, filename);\r\n\r\n    const buffer = Buffer.from(await file.arrayBuffer());\r\n    await fs.promises.writeFile(filePath, buffer);\r\n\r\n    return NextResponse.json({ \r\n      url: `/uploads/${filename}` \r\n    });\r\n\r\n  } catch (error) {\r\n    console.error('Erro no upload:', error);\r\n    return NextResponse.json(\r\n      { error: 'Erro durante o upload' }, \r\n      { status: 500 }\r\n    );\r\n  }\r\n}"],"names":[],"mappings":";;;AAAA;AACA;AACA;;;;AAEO,eAAe,KAAK,OAAO;IAChC,IAAI;QACF,MAAM,WAAW,MAAM,QAAQ,QAAQ;QACvC,MAAM,OAAO,SAAS,GAAG,CAAC;QAE1B,IAAI,CAAC,MAAM;YACT,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAyB,GAAG;gBAAE,QAAQ;YAAI;QAC9E;QAEA,MAAM,YAAY,iGAAA,CAAA,UAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,UAAU;QACrD,IAAI,CAAC,6FAAA,CAAA,UAAE,CAAC,UAAU,CAAC,YAAY;YAC7B,6FAAA,CAAA,UAAE,CAAC,SAAS,CAAC,WAAW;gBAAE,WAAW;YAAK;QAC5C;QAEA,MAAM,YAAY,KAAK,GAAG;QAC1B,MAAM,MAAM,iGAAA,CAAA,UAAI,CAAC,OAAO,CAAC,KAAK,IAAI;QAClC,MAAM,WAAW,CAAC,KAAK,EAAE,YAAY,KAAK;QAC1C,MAAM,WAAW,iGAAA,CAAA,UAAI,CAAC,IAAI,CAAC,WAAW;QAEtC,MAAM,SAAS,OAAO,IAAI,CAAC,MAAM,KAAK,WAAW;QACjD,MAAM,6FAAA,CAAA,UAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,UAAU;QAEtC,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YACvB,KAAK,CAAC,SAAS,EAAE,UAAU;QAC7B;IAEF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,mBAAmB;QACjC,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAAwB,GACjC;YAAE,QAAQ;QAAI;IAElB;AACF","debugId":null}}]
}