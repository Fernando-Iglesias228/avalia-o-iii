{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/fernando.iglesias/Desktop/%C3%9Atil/UFMS/Proj%20Integrador%20II/Avaliacao-iii/src/components/map.js"],"sourcesContent":["'use client';\r\nimport dynamic from 'next/dynamic';\r\n\r\nconst DynamicMap = dynamic(() => import('./MapLeaflet'), {\r\n  ssr: false,\r\n  loading: () => <p>Carregando mapa...</p>,\r\n});\r\n\r\nexport default function Mapa({ allMarkers = [] }) {\r\n  return <DynamicMap allMarkers={allMarkers} />;\r\n}"],"names":[],"mappings":";;;;AACA;;AADA;;;AAGA,MAAM,aAAa,CAAA,GAAA,+JAAA,CAAA,UAAO,AAAD;;;;;;IACvB,KAAK;IACL,SAAS,kBAAM,8OAAC;sBAAE;;;;;;;AAGL,SAAS,KAAK,EAAE,aAAa,EAAE,EAAE;IAC9C,qBAAO,8OAAC;QAAW,YAAY;;;;;;AACjC","debugId":null}},
    {"offset": {"line": 62, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/fernando.iglesias/Desktop/%C3%9Atil/UFMS/Proj%20Integrador%20II/Avaliacao-iii/src/components/submitFocos.js"],"sourcesContent":["'use client';\r\nimport { useEffect } from 'react';\r\nimport { OpenStreetMapProvider } from 'leaflet-geosearch';\r\n\r\nexport default function SubmitFocos() {\r\n  useEffect(() => {\r\n    const form = document.getElementById('form-cadastro-foco');\r\n    if (!form) return;\r\n\r\n    const handleSubmit = async (e) => {\r\n      e.preventDefault();\r\n      \r\n      const formData = new FormData(form);\r\n      const imageFile = formData.get('add-img');\r\n      \r\n      try {\r\n        let imageUrl = null;\r\n        if (imageFile && imageFile.size > 0) {\r\n          const uploadFormData = new FormData();\r\n          uploadFormData.append('file', imageFile);\r\n          \r\n          const uploadResponse = await fetch('/api/upload', {\r\n            method: 'POST',\r\n            body: uploadFormData,\r\n          });\r\n          \r\n          if (!uploadResponse.ok) {\r\n            throw new Error('Falha no upload da imagem');\r\n          }\r\n          \r\n          const uploadData = await uploadResponse.json();\r\n          imageUrl = uploadData.url;\r\n        }\r\n\r\n        const provider = new OpenStreetMapProvider();\r\n        const endereco = formData.get('addrs-foco');\r\n        const results = await provider.search({ query: endereco });\r\n        \r\n        if (results.length === 0) {\r\n          throw new Error('Endereço não encontrado');\r\n        }\r\n\r\n        const { x: lng, y: lat } = results[0];\r\n\r\n        const focoData = {\r\n          nome: formData.get('name'),\r\n          endereco,\r\n          tipo: formData.get('tipo-foco'),\r\n          imagem: imageUrl,\r\n          lat,\r\n          lng\r\n        };\r\n\r\n        const response = await fetch('/api/focos', {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify(focoData),\r\n        });\r\n\r\n        if (!response.ok) {\r\n          throw new Error('Erro ao registrar foco');\r\n        }\r\n\r\n        alert('Foco registrado com sucesso!');\r\n        form.reset();\r\n        window.location.reload();\r\n      } catch (error) {\r\n        console.error('Erro:', error);\r\n        alert('Erro: ' + error.message);\r\n      }\r\n    };\r\n\r\n    form.addEventListener('submit', handleSubmit);\r\n    return () => {\r\n      form.removeEventListener('submit', handleSubmit);\r\n    };\r\n  }, []);\r\n\r\n  return null;\r\n}"],"names":[],"mappings":";;;AACA;AACA;AAFA;;;AAIe,SAAS;IACtB,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,OAAO,SAAS,cAAc,CAAC;QACrC,IAAI,CAAC,MAAM;QAEX,MAAM,eAAe,OAAO;YAC1B,EAAE,cAAc;YAEhB,MAAM,WAAW,IAAI,SAAS;YAC9B,MAAM,YAAY,SAAS,GAAG,CAAC;YAE/B,IAAI;gBACF,IAAI,WAAW;gBACf,IAAI,aAAa,UAAU,IAAI,GAAG,GAAG;oBACnC,MAAM,iBAAiB,IAAI;oBAC3B,eAAe,MAAM,CAAC,QAAQ;oBAE9B,MAAM,iBAAiB,MAAM,MAAM,eAAe;wBAChD,QAAQ;wBACR,MAAM;oBACR;oBAEA,IAAI,CAAC,eAAe,EAAE,EAAE;wBACtB,MAAM,IAAI,MAAM;oBAClB;oBAEA,MAAM,aAAa,MAAM,eAAe,IAAI;oBAC5C,WAAW,WAAW,GAAG;gBAC3B;gBAEA,MAAM,WAAW,IAAI,mKAAA,CAAA,wBAAqB;gBAC1C,MAAM,WAAW,SAAS,GAAG,CAAC;gBAC9B,MAAM,UAAU,MAAM,SAAS,MAAM,CAAC;oBAAE,OAAO;gBAAS;gBAExD,IAAI,QAAQ,MAAM,KAAK,GAAG;oBACxB,MAAM,IAAI,MAAM;gBAClB;gBAEA,MAAM,EAAE,GAAG,GAAG,EAAE,GAAG,GAAG,EAAE,GAAG,OAAO,CAAC,EAAE;gBAErC,MAAM,WAAW;oBACf,MAAM,SAAS,GAAG,CAAC;oBACnB;oBACA,MAAM,SAAS,GAAG,CAAC;oBACnB,QAAQ;oBACR;oBACA;gBACF;gBAEA,MAAM,WAAW,MAAM,MAAM,cAAc;oBACzC,QAAQ;oBACR,SAAS;wBAAE,gBAAgB;oBAAmB;oBAC9C,MAAM,KAAK,SAAS,CAAC;gBACvB;gBAEA,IAAI,CAAC,SAAS,EAAE,EAAE;oBAChB,MAAM,IAAI,MAAM;gBAClB;gBAEA,MAAM;gBACN,KAAK,KAAK;gBACV,OAAO,QAAQ,CAAC,MAAM;YACxB,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,SAAS;gBACvB,MAAM,WAAW,MAAM,OAAO;YAChC;QACF;QAEA,KAAK,gBAAgB,CAAC,UAAU;QAChC,OAAO;YACL,KAAK,mBAAmB,CAAC,UAAU;QACrC;IACF,GAAG,EAAE;IAEL,OAAO;AACT","debugId":null}}]
}